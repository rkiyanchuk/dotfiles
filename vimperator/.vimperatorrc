" vim: set ft=vimperator:

set animations
set focuscontent
set hlsearch
set incsearch
set smartcase
set ignorecase
set smartcase

colorscheme solarized-light

" MAPPINGS
" ========

map <leader>p :hardcopy<CR>

" Use full zoom by default.
map zi zI
map zo zO
map zz zZ

" Manipulating app tabs.
map <F2> :set apptab<CR>
map <F3> :set noapptab<CR>
map D :tabclose!<CR>

" Activate Evernote Clearly plugin.
map <leader>r :clearly<CR>


" COMMANDS
" ========

command! localhost open http://localhost
" Hide status bar when fullscreen mode is detected.
autocmd Fullscreen .* js updateBottomBar()


" FUNCTIONS
" =========

:js << EOF
let hlContentSepValue = highlight.get('ContentSeparator').value
function updateBottomBar(close = window.fullScreen) {
  let bb = document.getElementById('liberator-bottombar')
    if (! bb) return

      if (close) {
        bb.style.height = '0px'
          bb.style.overflow = 'hidden'
          liberator.execute('highlight ContentSeparator display: none;')
      }
      else {
        bb.style.height = ''
          bb.style.overflow = ''
          liberator.execute('highlight ContentSeparator ' + hlContentSepValue)
      }
}
updateBottomBar()
EOF
